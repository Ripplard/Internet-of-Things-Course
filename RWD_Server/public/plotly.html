<!DOCTYPE html>
<html>

<head>
	<title>Plotly RWD</title>
	<script src="/js/plotly.min.js"></script>
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no, shrink-to-fit=no">
</head>

<body>
	<div class="container">
		<div class="row">
			<div class="col">
				<div id="temperatureChart"></div>
			</div>
		</div>
	</div>
	<style type="text/css">

	</style>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		var _data = [];
		setInterval(function () {
			_data.push(Math.random());
		}, 1000);
		var index = 0;
		Plotly.plot("temperatureChart", [{
			y: _data
		}], null);
		index = _data.length;
		setInterval(function () {
			const difData = _data.slice(index);
			Plotly.extendTraces(temperatureChart, { y: [difData] }, [0]);
			index = _data.length;
		}, 1000);
		window.onresize = function () {
			// 改變plotly繪圖大小
			Plotly.Plots.resize("temperatureChart");
		};
	</script>
</body>

</html>