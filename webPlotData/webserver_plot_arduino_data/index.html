<!DOCTYPE html>
<html>

<head>
	<title>Temperature Chart Static</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<script src="js/plotly-1.39.4.min.js"></script>
	<script src="js/jquery-3.3.1.min.js"></script>
</head>

<body>
	<div id="temperatureChart"></div>
	<script type="text/javascript">
		$(document).ready(function () {
			$.get("/data", function (data, status) {
				var index = 0;
				Plotly.plot("temperatureChart", [{
					y: data
				}], {
						margin: { t: 0 }
					});
			});
			// 使用d3.js
			var d3 = Plotly.d3;
			// 畫布寬度與長度佔比
			var WIDTH_IN_PERCENT_OF_PARENT = 100,
				HEIGHT_IN_PERCENT_OF_PARENT = 95;
			// 選擇畫布並設定左跟上的預留比例
			var gd3 = d3.select("div[id='temperatureChart']")
				.style({
					width: WIDTH_IN_PERCENT_OF_PARENT + "%",
					"margin-left": (100 - WIDTH_IN_PERCENT_OF_PARENT) / 2 + "%",

					height: HEIGHT_IN_PERCENT_OF_PARENT + "vh",
					"margin-top": (100 - HEIGHT_IN_PERCENT_OF_PARENT) / 2 + "vh"
				});
		});
		// 當頁面視窗大小改變
		window.onresize = function () {
			// 改變plotly繪圖大小
			Plotly.Plots.resize("temperatureChart");
		};
	</script>
</body>

</html>